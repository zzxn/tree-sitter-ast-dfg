# tree-sitter-ast-dfg

A lib to extract dataflow from AST generated by tree-sitter.

## Example

```python
from extract import extract_dataflow

code='''
def sum(a, b):
    c = a + b
    return c
'''

flows = extract_dataflow(code, 'python')
print(flows)
```

And the output should be:
```
[({'code': 'c', 'pos': (2, 4)}, 'computedFrom', [{'code': 'a', 'pos': (2, 8)}, {'code': 'b', 'pos': (2, 12)}]), ({'code': 'a', 'pos': (2, 8)}, 'comesFrom', [{'code': 'a', 'pos': (1, 8)}]), ({'code': 'b', 'pos': (2, 12)}, 'comesFrom', [{'code': 'b', 'pos': (1, 11)}]), ({'code': 'c', 'pos': (3, 11)}, 'comesFrom', [{'code': 'c', 'pos': (2, 4)}])]
```

The `flows` follow the format of `List[Tuple[Token, 'comesFrom'|'computedFrom', List[Token]]]`,
where `Token` is a dict like this:
```python
{
    'code': 'variable_name',
    'pos': [zero_based_line_no, zero_based_utf_byte_offset]
}
```
